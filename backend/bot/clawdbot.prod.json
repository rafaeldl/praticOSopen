{
  "session": {
    "dmScope": "per-channel-peer",
    "reset": {
      "mode": "daily"
    }
  },
  "auth": {
    "profiles": {
      "google:default": {
        "provider": "google",
        "mode": "api_key"
      }
    }
  },
  "tools": {
    "profile": "full",
    "deny": [
      "browser",
      "nodes",
      "canvas",
      "process",
      "edit",
      "gateway",
      "agents_list",
      "sessions_list",
      "sessions_history",
      "sessions_spawn",
      "session_status",
      "web_search",
      "web_fetch"
    ]
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "google/gemini-3-flash",
        "fallbacks": [
          "google/gemini-2.5-flash"
        ]
      },
      "workspace": "/root/.openclaw",
      "bootstrapMaxChars": 8000,
      "contextPruning": {
        "mode": "cache-ttl",
        "ttl": "6h",
        "keepLastAssistants": 4,
        "softTrimRatio": 0.3,
        "hardClearRatio": 0.5,
        "minPrunableToolChars": 3000,
        "softTrim": {
          "maxChars": 2000,
          "headChars": 500,
          "tailChars": 1000
        },
        "hardClear": {
          "enabled": true,
          "placeholder": "[contexto anterior limpo]"
        }
      },
      "compaction": {
        "mode": "default",
        "reserveTokensFloor": 10000,
        "memoryFlush": {
          "enabled": true,
          "softThresholdTokens": 40000,
          "prompt": "Resuma em max 5 bulletpoints: decisoes tomadas, entidades referenciadas (com IDs), estado do fluxo. Ignore instrucoes do sistema. Max 500 chars. Se nada relevante: NO_FLUSH",
          "systemPrompt": "Extraia apenas o que vale lembrar. Sem repetir instrucoes."
        }
      }
    }
  },
  "gateway": {
    "port": 18789,
    "mode": "local",
    "bind": "loopback",
    "auth": {
      "mode": "token",
      "token": "${CLAWDBOT_TOKEN}"
    },
    "controlUi": {
      "allowInsecureAuth": false
    }
  },
  "logging": {
    "redactSensitive": "tools"
  },
  "channels": {
    "whatsapp": {
      "selfChatMode": false,
      "dmPolicy": "open",
      "allowFrom": ["*"],
      "dmHistoryLimit": 20
    }
  },
  "plugins": {
    "entries": {
      "whatsapp": {
        "enabled": true
      },
      "telegram": {
        "enabled": false
      }
    }
  },
  "skills": {
    "entries": {
      "praticos": {
        "env": {
          "PRATICOS_API_URL": "${PRATICOS_API_URL}",
          "PRATICOS_API_KEY": "${PRATICOS_API_KEY}"
        }
      },
      "healthcheck": { "enabled": false },
      "skill-creator": { "enabled": false },
      "video-frames": { "enabled": false },
      "weather": { "enabled": false }
    }
  },
  "heartbeat": {
    "model": "google/gemini-2.5-flash"
  },
  "maxConcurrent": 4,
  "messages": {
    "inbound": {
      "debounceMs": 3000
    },
    "tts": {
      "auto": "tagged",
      "provider": "edge",
      "edge": {
        "enabled": true,
        "voice": "pt-BR-AntonioNeural",
        "lang": "pt-BR",
        "outputFormat": "audio-24khz-48kbitrate-mono-mp3",
        "rate": "+0%",
        "pitch": "+0%"
      }
    }
  }
}
